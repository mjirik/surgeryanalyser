{% load static %}
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- ajax-->
{#    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>#}
{#    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"#}
{#            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"#}
{#            crossorigin="anonymous"></script>#}

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
{#    <script src="https://code.jquery.com/jquery-3.5.1.min.js"#}
{#            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="#}
{#            crossorigin="anonymous"></script>#}
{#    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"#}
{#            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"#}
{#            crossorigin="anonymous"></script>#}
{#    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"#}
{#            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"#}
{#            crossorigin="anonymous"></script>#}
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
{#    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"#}
{#          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">#}

    <!-- Bootstrap Font Icon CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!--    icons-->
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- <script src='https://kit.fontawesome.com/a076d05399.js'></script> -->
{#    <script type="text/javascript"> (function () {#}
{#        var css = document.createElement('link');#}
{#        css.href = 'https://use.fontawesome.com/releases/v5.1.0/css/all.css';#}
{#        css.rel = 'stylesheet';#}
{#        css.type = 'text/css';#}
{#        document.getElementsByTagName('head')[0].appendChild(css);#}
{#    })(); </script>#}
    <script src="https://kit.fontawesome.com/b3fe7a968a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


    <link rel="stylesheet" href="{% static 'uploader/main.css' %}" type="text/css"/>
    <script src="{% static 'uploader/main.js' %}"></script> <!-- This is how to include a static file -->
    <title>Surgery Analyser</title>
    <link rel="shortcut icon" type="image/png" href="{% static 'uploader/favicon.ico' %}"/>

    <!--    Video streaming-->
{#    <link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet"/>#}

    {% block head %}
    {% endblock %}
</head>

<body>
<div class="mb-2 pt-3 px-2 bg-light pb-0 text-center">
    <h1>Surgery Analyser</h1>
    <p class="text pb-0 mb-0">Analysis of the instrument tip track</p>

    <nav class="navbar navbar-expand-lg navbar-light bg-light px-0 py-0">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'uploader:model_form_upload' %}">Upload</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'uploader:common_review' %}">Training Review</a>
                </li>

                {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:go_to_video_for_annotation_random' %}">Review video</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:web_reports' %}">Reports</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:spreadsheet' %}">Spreadsheet</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:spreadsheet_xlsx' %}">XLSX</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:collections' %}">Collections</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:categories' %}">Categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:students_list' 30 %}">Students</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'uploader:issues' %}">Issues</a>
                    </li>
                {% endif %}
            </ul>
        </div>
        <!--      Login is on the right part of navbar -->
        <!--    <ul class="navbar-nav flex-row flex-wrap ml-auto">-->
        <!--        {% if user.is_authenticated %}-->
            <!--        <li class="nav-item">-->
            <!--            <a class="nav-link" href="{% url 'uploader:logout_view' %}">-->
            <!--                Logout-->
            <!--            </a>-->
            <!--        </li>-->
            <!--        {% else %}-->
            <!--        <li class="nav-item">-->
            <!--            <a class="nav-link" href="{% url 'admin:index' %}">-->
            <!--                Login-->
            <!--            </a>-->
            <!--        </li>-->
            <!--        {% endif %}-->
        <!--    </ul>-->
        <div class="navbar-nav flex-row flex-wrap ml-auto">

            <!--              <ul class="d-flex align-items-center">-->


            <!--                <li class="nav-item dropdown pe-3">-->
            {% if user.is_authenticated %}

                <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown"
                   aria-expanded="false">
                    <span class="d-none d-md-block dropdown-toggle ps-2">{{ user.username }}</span>
                </a><!-- End Profile Iamge Icon -->

                <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile" style="">
                    <!--                    <li class="dropdown-header">-->
                    <!--                      <h6>{{ user.username }}</h6>-->
                    <!--                    </li>-->
                    <!--                    <li>-->
                    <!--                      <hr class="dropdown-divider">-->
                    <!--                    </li>-->
                    {% if user.is_staff %}
                        <li>
                            <a class="dropdown-item d-flex align-items-center" href="{% url 'admin:index' %}">
                                <i class="bi bi-lock"></i>
                                <span>Admin</span>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item d-flex align-items-center" href="{% url 'uploader:web_reports' %}">
                                <i class="bi bi-lock"></i>
                                <span>Uploads</span>
                            </a>
                        </li>
                        {% block staffmenu %}
                        {% endblock %}
                    {% endif %}

                    <li>
                        <hr class="dropdown-divider">
                    </li>

                    {% if request.user.is_superuser %}
                        <li>
                            <a class="dropdown-item d-flex align-items-center"
                               href="{% url 'uploader:update_all_uploaded_files' %}">
                                <i class="bi bi-arrow-clockwise"></i> Update all uploaded files
                            </a>
                        </li>

                        {%  if request.user.email %}
                        <li>
                            <a class="dropdown-item d-flex align-items-center"
                               href="{% url 'uploader:go_to_video_for_annotation_email' request.user.email %}">
                                Review as {{ request.user.email }}
                            </a>
                        </li>
                            <li>
                                <a class="dropdown-item d-flex align-items-center"
                                   href="{% url 'uploader:go_to_video_for_annotation_random' %}">
                                    Review as random
                                </a>
                            </li>
                        {% endif %}
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <a class="dropdown-item d-flex align-items-center"
                               href="{% url 'uploader:import_files_from_drop_dir' %}">
                                Import files from server drop dir
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item d-flex align-items-center"
                               href="{% url 'uploader:show_logs' %}">
                                Show Logs
                            </a>
                        </li>
                        {% block superusermenu %}
                        {% endblock %}

                    {% endif %}
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="{% url 'uploader:logout_view' %}">
                            <i class="bi bi-box-arrow-right"></i>
                            <span>Sign Out</span>
                        </a>
                    </li>

                </ul><!-- End Profile Dropdown Items -->
            {% else %}
                <a class="nav-link"
                   href="{% url 'uploader:login' %}?next=/"> Login
                </a>
            {% endif %}
        </div>

        <!--    <form class="form-inline my-2 my-lg-0">-->
        <!--      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">-->
        <!--      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
        <!--    </form>-->
    </nav>
</div>



<!--                    <div id="appbody" class="container">-->
<div id="appbody">
    <!--                        <div class="container">-->
    {% block body %}
    {% endblock %}
    {% block content %}
    {% endblock %}
    <!--                        </div>-->
</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

{%  block script %}
{% endblock %}

</body>
</html>